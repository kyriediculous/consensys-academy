(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b624856"],{3580:function(t,i,a){"use strict";a.r(i);var s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"container-fluid page-height"},[t._m(0),t.pageLoad?a("div",{staticClass:"row text-center special"},[a("b-spinner",{staticClass:"my-5",attrs:{variant:"primary"}}),t._m(1)],1):t.pageLoad||0!==t.listings.length?a("div",[t._m(3),a("b-card-group",{staticClass:"row",attrs:{deck:""}},t._l(t.listings,function(t,i){return a("ListingCard",{key:i,attrs:{id:t.id,title:t.title,author:t.author,image:t.image,summary:t.summary,token:t.token,price:t.price,ebook:t.ebook}})}),1)],1):a("div",{staticClass:"container text-center special"},[a("div",[t._v(" :-( ")]),t._m(2)]),a("ListingDetails")],1)},e=[function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center my-5"},[a("h1",[t._v("Marketplace")])])])},function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",[a("strong",[t._v("\n             Loading Marketplace...\n         ")])])},function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",[a("strong",[t._v("\n             No Listings found...\n         ")])])},function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"})])}],n=(a("96cf"),a("3b8d")),r=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"col-12 col-lg-6 col-xl-4"},[s("b-card",{staticClass:"my-2 mx-2",attrs:{title:t.title,"img-src":t.image,"img-alt":"Product thumbnail","img-left":"","border-variant":"primary","header-bg-variant":"primary","header-text-variant":"white",align:"left"}},[s("b-card-body",[s("b-card-text",[s("div",{staticClass:"summary"},[t._v("\n               "+t._s(t.summary.substring(0,120)+"...")+"\n           ")]),s("div")]),s("b-button",{staticClass:"mx-1",attrs:{variant:"outline-primary"},on:{click:function(i){return t.$root.$emit("listingDetailModal",t.id)}}},[t._v("\n         Details\n       ")])],1),s("b-card-footer",{staticClass:"my-2 column",attrs:{"footer-bg-variant":"white"}},[s("div",{staticClass:"row pricing my-2 mx-1"},[s("strong",[t._v("Price: ")]),t._v("   "+t._s(t.price)+" "+t._s(t.token.symbol)+"\n         ")]),s("div",{staticClass:"row"},[s("b-button",{staticClass:"mx-1",attrs:{disabled:"uport"===t.buyLoading,variant:"uport"},on:{click:function(i){return t.buyListing("uport")}}},[s("img",{staticClass:"mx-1",attrs:{src:a("8a62"),width:"25",height:"25"}}),t._v("  | \n           "),"uport"===t.buyLoading?s("b-spinner",{attrs:{variant:"light",small:""}}):s("span",[t._v("Buy")])],1),s("b-button",{staticClass:"mx-1",attrs:{disabled:"metamask"===t.buyLoading,variant:"metamask"},on:{click:function(i){return t.buyListing("metamask")}}},[s("img",{staticClass:"mx-1",attrs:{src:a("d6c5"),width:"25",height:"25"}}),t._v("  | \n                       "),"metamask"===t.buyLoading?s("b-spinner",{attrs:{variant:"light",small:""}}):s("span",[t._v("Buy")])],1)],1)])],1)],1)},o=[],c=a("bccf"),l={name:"listingCard",props:["id","title","author","image","summary","token","price","ebook"],data:function(){return{buyLoading:!1}},computed:{authType:function(){return this.$store.state.auth.type}},methods:{buyListing:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(i){var a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.buyLoading=i,t.next=4,Object(c["a"])(this.id,this.price,i);case 4:this.$root.$emit("alert",{countdown:5,color:"success",message:"Bought ".concat(this.title," for ").concat(this.price," ").concat(this.token.symbol)}),setTimeout(function(){return window.open(a.ebook)},2e3),this.buyLoading=!1,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),this.buyLoading=!1,this.$root.$emit("alert",{countdown:5,color:"danger",message:t.t0.message});case 13:case"end":return t.stop()}},t,this,[[0,9]])}));function i(i){return t.apply(this,arguments)}return i}()}},u=l,m=(a("5ba1"),a("2877")),g=Object(m["a"])(u,r,o,!1,null,"6a282908",null),d=g.exports,h=function(){var t=this,i=t.$createElement,s=t._self._c||i;return t.listing?s("b-modal",{staticClass:"detail-modal",attrs:{centered:"",size:"xl","hide-footer":""},model:{value:t.showModal,callback:function(i){t.showModal=i},expression:"showModal"}},[s("b-row",[s("div",{staticClass:"col-12 col-lg-8"},[s("h2",[t._v(t._s(t.listing.title)+" ")]),s("h5",[t._v(" "+t._s(t.listing.author)+" ")]),s("div",{staticClass:"my-5"},[t._v("\n                "+t._s(t.listing.summary)+"\n            ")]),s("div",[s("strong",[t._v("Sold by: ")]),s("a",{attrs:{href:"https://rinkeby.etherscan.io/address/"+t.listing.seller,target:"_blank"}},[t._v(" "+t._s(t.listing.seller)+" ")])]),s("div",[s("strong",[t._v("Explore on Swarm: ")]),s("a",{attrs:{href:t.listing.manifest,target:"_blank"}},[t._v("\n                    "+t._s(t.listing.manifestHash.substring(0,35)+"...")+"\n                ")])]),s("div",{staticClass:"column my-5 mx-5"},[s("div",{staticClass:"row pricing my-2 mx-1"},[s("strong",[t._v("Price: ")]),t._v("   "+t._s(t.listing.price)+" "+t._s(t.listing.token.symbol)+"\n      ")]),s("div",{staticClass:"row"},[s("b-button",{staticClass:"mx-1",attrs:{disabled:"uport"===t.buyLoading,variant:"uport"},on:{click:function(i){return t.buyListing("uport")}}},[s("img",{staticClass:"mx-1",attrs:{src:a("8a62"),width:"40",height:"40"}}),t._v("  | \n                   "),"uport"===t.buyLoading?s("b-spinner",{attrs:{variant:"light",small:""}}):s("span",[t._v("Buy")])],1),s("b-button",{staticClass:"mx-1",attrs:{disabled:"metamask"===t.buyLoading,variant:"metamask"},on:{click:function(i){return t.buyListing("metamask")}}},[s("img",{staticClass:"mx-1",attrs:{src:a("d6c5"),width:"40",height:"40"}}),t._v("  | \n                    "),"metamask"===t.buyLoading?s("b-spinner",{attrs:{variant:"light",small:""}}):s("span",[t._v("Buy")])],1)],1)])]),s("div",{staticClass:"col-12 col-lg-4"},[s("img",{staticClass:"cover-large",attrs:{src:t.listing.image}})])])],1):t._e()},p=[],b={name:"listingDetails",data:function(){return{showModal:!1,loading:!1,listing:void 0,buyLoading:!1}},created:function(){var t=this;this.$root.$on("listingDetailModal",function(i){t.showModal=!0,t.listing=t.$store.getters["marketplace/LISTING_DETAILS"](i)})},methods:{buyListing:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(i){var a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.buyLoading=i,t.next=4,Object(c["a"])(this.listing.id,this.listing.price,i);case 4:this.$root.$emit("alert",{countdown:5,color:"success",message:"Bought ".concat(this.listing.title," for ").concat(this.listing.price," ").concat(this.listing.token.symbol)}),setTimeout(function(){return window.open(a.listing.ebook)},2e3),this.buyLoading=!1,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),this.buyLoading=!1,this.$root.$emit("alert",{countdown:5,color:"danger",message:t.t0.message});case 13:case"end":return t.stop()}},t,this,[[0,9]])}));function i(i){return t.apply(this,arguments)}return i}()}},v=b,f=(a("88db"),Object(m["a"])(v,h,p,!1,null,"63b89ef2",null)),_=f.exports,y={computed:{listings:function(){return this.$store.getters["marketplace/ALL_LISTINGS"]}},data:function(){return{pageLoad:!0}},created:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,0!==this.$store.state.marketplace.listings.length){t.next=6;break}return t.next=4,this.$store.dispatch("marketplace/ALL_LISTINGS");case 4:t.next=7;break;case 6:this.$store.dispatch("marketplace/ALL_LISTINGS");case 7:this.pageLoad=!1,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),this.$root.$emit("alert",{countdown:5,color:"danger",message:t.t0.message});case 13:case"end":return t.stop()}},t,this,[[0,10]])}));function i(){return t.apply(this,arguments)}return i}(),components:{ListingCard:d,ListingDetails:_}},k=y,w=(a("60a0"),Object(m["a"])(k,s,e,!1,null,"52945bc6",null));i["default"]=w.exports},"5ba1":function(t,i,a){"use strict";var s=a("fccc2"),e=a.n(s);e.a},"60a0":function(t,i,a){"use strict";var s=a("af67"),e=a.n(s);e.a},"88db":function(t,i,a){"use strict";var s=a("cff7"),e=a.n(s);e.a},"8a62":function(t,i,a){t.exports=a.p+"img/uport-logo.b348a921.svg"},af67:function(t,i,a){},cff7:function(t,i,a){},d6c5:function(t,i,a){t.exports=a.p+"img/metamask.c879a582.svg"},fccc2:function(t,i,a){}}]);
//# sourceMappingURL=chunk-7b624856.39984425.js.map